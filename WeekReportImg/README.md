# 周报图片生成器

一个简单易用的周报可视化工具，根据项目数据自动生成美观的图表。

## 特点

- ✅ **自动化处理**：只需更新数据文件，一键生成图表
- ✅ **双视图支持**：包含所有维度（M端/P端/线下）和剔除M端两种视图
- ✅ **智能解析**：支持完整和简化的数据格式
- ✅ **矢量图输出**：生成SVG格式，无限缩放不失真
- ✅ **无需依赖**：纯Python实现，无需安装复杂的库

## 快速开始

### 1. 编辑数据文件

打开 `data.txt`，按照以下格式输入周报数据：

```
【季度计划】
Q3已排长线计划总计30项，已启动24项，推进率80%；
M端10项，已启动9项，推进率90%；
P端7项，已启动5项，推进率71%；
线下端13项，已启动10项，推进率77%；
【月度计划】
1月已排长线计划总计33项，已启动33项，推进率100%；
M端10项
P端10项
线下端13项
【迭代计划】
0119已排计划总计57项，已启动57项，推进率100%；
M端17项
P端17项
线下端23项
```

### 2. 运行脚本

```bash
python3 weeKReportImgGen.py
```

### 3. 查看结果

在 `output` 目录中查看生成的SVG文件，可以在浏览器中直接打开。

## 数据格式说明

### 分组格式

使用 `【分组名】` 标记不同的项目分组：
- `【季度计划】`
- `【月度计划】`
- `【迭代计划】`

### 支持的数据格式

**完整格式**（推荐）：
```
M端10项，已启动9项，推进率90%；
```

**简化格式**（仅当总体推进率为100%时）：
```
M端10项
```

系统会自动补全为：
```
M端10项，已启动10项，推进率100%；
```

## 输出示例

### 视图 A（M端 & P端 & 线下）

```
Q3 季度计划:
  总计划: 30, 已启动: 24, 推进率: 80%
  - M端: 已启动 9 / 计划 10 (90%)
  - P端: 已启动 5 / 计划 7 (71%)
  - 线下: 已启动 10 / 计划 13 (77%)
```

### 视图 B（剔除 M端）

```
Q3 季度计划:
  总计划: 20, 已启动: 15, 推进率: 75%
  - P端: 已启动 5 / 计划 7 (71%)
  - 线下: 已启动 10 / 计划 13 (77%)
```

## 文件说明

```
WeekReportImg/
├── weeKReportImgGen.py    # 主脚本
├── data.txt               # 数据文件（每周更新）
├── data_template.txt      # 数据模板
├── 使用说明.md            # 详细使用文档
├── README.md              # 本文件
└── output/                # 输出目录
    ├── 周报_视图A_YYYY-MM-DD.svg
    └── 周报_视图B_YYYY-MM-DD.svg
```

## 颜色方案

- **M端**: 紫色 (#8b5cf6)
- **P端**: 蓝色 (#3b82f6)
- **线下**: 绿色 (#10b981)
- **进度100%**: 绿色 (#22c55e)
- **进度<100%**: 橙色 (#f59e0b)

## 转换为PNG

生成的SVG文件可以直接在浏览器中打开。如需转换为PNG格式：

### 在线转换
访问：https://cloudconvert.com/svg-to-png

### 命令行转换

**macOS/Linux:**
```bash
brew install librsvg  # macOS
sudo apt-get install librsvg2-bin  # Ubuntu
rsvg-convert -f png -o output.png input.svg
```

## 注意事项

1. 每个分组最多显示3个分项（卡片）
2. "线下端"会自动显示为"线下"
3. 当总体推进率为100%时，可以使用简化格式
4. 确保文件使用UTF-8编码保存

## 详细文档

更多信息请查看 [使用说明.md](使用说明.md)

## 许可证

MIT License
