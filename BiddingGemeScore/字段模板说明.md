# 需求输入字段模板说明

## 新模板字段（推荐使用）

### CSV格式字段列表

| 序号 | 字段名 | 说明 | 示例值 | 必填 |
|------|--------|------|--------|------|
| 1 | 所属业务团队 | 业务线（考研/四六级/专升本/轻学） | 考研 | ✅ |
| 2 | 关联目标及方向 | 关联的重点项目说明，可包含数字 | 关联2个重点项目 | ❌ |
| 3 | 需求标题 | 需求的名称 | 需求A-考核落地项 | ✅ |
| 4 | 核心交付功能说明 | 功能描述 | 实现核心功能A | ❌ |
| 5 | 当前数据及落地指标 | 当前指标数据 | 当前指标50% | ❌ |
| 6 | 收益 | 预期收益 | 预期提升20% | ❌ |
| 7 | 业务需求优先级 | 需求分类（考核落地项/重点项目/其他需求） | 考核落地项 | ✅ |
| 8 | 启动状态 | 开发状态（开发中/尚未启动） | 开发中 | ✅ |
| 9 | 时间维度 | 时间维度（月度/季度），轻学需求必填 | 季度 | 轻学必填 |

### CSV示例

```csv
所属业务团队,关联目标及方向,需求标题,核心交付功能说明,当前数据及落地指标,收益,业务需求优先级,启动状态,时间维度
考研,无,需求A-考核落地项,实现核心功能A,当前指标50%,预期提升20%,考核落地项,开发中,季度
轻学,关联1个重点项目,需求H-轻学月度需求,实现轻学功能H,当前指标30%,预期提升15%,其他需求,开发中,月度
```

## 旧模板字段（向后兼容）

系统仍支持旧模板字段，字段映射关系如下：

| 旧字段名 | 新字段名 | 说明 |
|---------|---------|------|
| 业务线 | 所属业务团队 | 业务线标识 |
| 需求名称 | 需求标题 | 需求名称 |
| 需求分类 | 业务需求优先级 | 需求分类 |
| 关联重点项目数 | 关联目标及方向 | 从文本中提取数字 |
| 季度计划 | - | 新模板中默认"未进入" |
| 是否故障 | - | 新模板中默认"否" |

## 字段说明

### 1. 所属业务团队（必填）

- **可选值**: 考研、四六级、专升本、轻学
- **说明**: 
  - 轻学属于考研的一部分
  - 轻学需求在业务线字段中填写"轻学"
  - 系统会自动识别轻学需求并应用特殊配额规则

### 2. 关联目标及方向（可选）

- **格式**: 文本描述，可包含数字
- **说明**: 
  - 用于提取关联重点项目数量
  - 示例："关联2个重点项目" → 提取数字2
  - 如果为空或无法提取数字，默认为0

### 3. 需求标题（必填）

- **格式**: 文本
- **说明**: 需求的名称，用于报告展示

### 4. 核心交付功能说明（可选）

- **格式**: 文本
- **说明**: 功能的详细描述，用于报告展示

### 5. 当前数据及落地指标（可选）

- **格式**: 文本
- **说明**: 当前指标数据，用于报告展示

### 6. 收益（可选）

- **格式**: 文本
- **说明**: 预期收益描述，用于报告展示

### 7. 业务需求优先级（必填）

- **可选值（新分类枚举）**: 
  - `A类` → A得分=10分（【考核类】且在落地阶段）
  - `B类` → A得分=3分+关联重点项目数（【重点项目】）
  - `C类` → A得分=3分（【数据需求】）
  - `D类` → A得分=1分（【非考核类】+ 【考核类】落地结束）
  - `E类` → A得分=6分（【季度重点】）
  - `X类` → 不参与打分（系统故障或学员大面积无法使用，直接列为"必须执行"）

- **向后兼容（旧分类）**: 
  - `考核落地项` → 自动识别为A类，A得分=10分
  - `重点项目` → 自动识别为B类，A得分=3分+关联重点项目数
  - `其他需求` → 自动识别为D类，A得分=1分

### 8. 启动状态（必填）

- **可选值**: 
  - `开发中` → C得分=5分
  - `尚未启动` → C得分=1分

### 9. 时间维度（轻学需求必填）

- **可选值**: 月度、季度
- **说明**: 
  - 轻学需求必须填写此字段
  - 月度轻学：20分封顶
  - 季度轻学：60分封顶
  - 非轻学需求默认为"季度"

## 使用示例

### 新模板示例文件

查看 `requirements_template_new.csv` 获取完整示例。

### 运行命令

```bash
python3 requirement_scorer.py -i requirements_template_new.csv -t 1000 -o output/report.md
```

## 注意事项

1. **字段顺序**: CSV文件的第一行必须是字段名，顺序可以调整
2. **编码格式**: CSV文件必须使用UTF-8编码
3. **轻学需求**: 
   - 业务线填写"轻学"
   - 必须填写"时间维度"字段
   - 保证入选，不受配额限制
4. **向后兼容**: 系统同时支持新旧字段名，可以混用
