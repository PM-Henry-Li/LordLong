# 快速开始指南

## 第一步：安装依赖

```bash
cd RedBookContentGen
pip install -r requirements.txt
```

## 第二步：配置API Key

**方式1：环境变量（推荐）**
```bash
export OPENAI_API_KEY="your-api-key-here"
```

**方式2：编辑配置文件**
编辑 `config.json`，填入你的API Key：
```json
{
  "openai_api_key": "your-api-key-here"
}
```

## 第三步：准备输入内容

编辑 `input_content.txt`，输入你想分享的老北京故事：

```
记得小时候，胡同口那棵大槐树，每到夏天就开满了白花。
傍晚时分，鸽哨声从头顶掠过，那是老北京最熟悉的声音。
发小儿们聚在树下，听老人讲那些年的事儿...
```

## 第四步：运行脚本

**一键完成（推荐）**：
```bash
python run_all.py
```
会依次执行：1. 生成文案与提示词  2. 根据提示词生成图片

**分步执行**：
```bash
# 只生成文案和提示词
python redbook_content_generator.py

# 只生成图片（需先运行上一步）
python image_generator.py
```

## 第五步：查看结果

1. **Excel文件**：`output/redbook_content.xlsx`  
   - 打开 Excel 查看所有生成的内容，每次运行会追加新行

2. **日期文件夹**：`output/images/YYYYMMDD/`（例如 `output/images/20241215/`）  
   - `image_prompts.txt` - 图片提示词  
   - `content.md` - 完整内容预览  
   - `image_01.png`, `image_02.png` … - 生成的图片（使用 `run_all.py` 时会有）

## 常见问题

### Q: 提示找不到API Key？
A: 确保设置了环境变量 `OPENAI_API_KEY` 或在 `config.json` 中配置了 `openai_api_key`

### Q: 输入文件在哪里？
A: 在项目根目录创建或编辑 `input_content.txt` 文件

### Q: 可以修改输出路径吗？
A: 可以，编辑 `config.json` 文件中的 `output_excel` 和 `output_image_dir` 字段

### Q: 每次运行都会覆盖之前的内容吗？
A: 不会。Excel文件会追加新行，图片文件夹会按日期创建新文件夹

## 下一步

- 查看 `README.md` 了解详细功能
- 查看 `config.json` 了解所有配置选项
- 根据需要修改提示词模板（在 `redbook_content_generator.py` 中）
