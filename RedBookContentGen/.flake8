[flake8]
# 最大行长度设置为 120（根据 AGENTS.md 规范）
max-line-length = 120

# 排除的目录
exclude =
    .git,
    __pycache__,
    .pytest_cache,
    .venv,
    venv,
    env,
    build,
    dist,
    *.egg-info,
    output,
    input,
    logs

# 忽略的错误代码
ignore =
    # E203: whitespace before ':' (与 black 冲突)
    E203,
    # W503: line break before binary operator (PEP 8 已更新建议)
    W503,
    # W504: line break after binary operator (与 W503 冲突)
    W504,
    # E501: line too long (已通过 max-line-length 控制，超长字符串除外)
    E501,
    # E402: module level import not at top of file (某些模块需要延迟导入)
    E402,
    # E302/E303: blank lines (代码风格偏好)
    E302,
    E303,
    # E304: blank lines found after function decorator (代码风格偏好)
    E304,
    # E128/E129: continuation line indentation (代码风格偏好)
    E128,
    E129,
    # C901: function is too complex (需要重构，但不在本任务范围)
    C901

# 每个文件的最大复杂度
max-complexity = 15

# 显示错误的源代码
show-source = True

# 显示每个错误的 pep8 规则
show-pep8 = True

# 统计错误数量
count = True
